<!DOCTYPE HTML>
<html>
	<head>
		<meta name="viewport" content="width=device-width">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<script src="jquery.min.js"></script>
		<script src="highcharts.js"></script>
		<script src="exporting.js"></script>
		<script type="text/javascript">
			function plotChart(options, goalSteps) {
		        Ti.API.info('Webview: plotChart(' + JSON.stringify(options) + ')');
		        
		        new Highcharts.Chart({
		        	credits: {
		        		enabled: false	
		        	},
		        	
		        	exporting: {
		        		enabled: false	
		        	},
		        	
		            chart: {
		            	renderTo: 'container',
		                plotBackgroundColor: null,
		                plotBorderWidth: null,
		                plotShadow: false,
		                height: 300 //todo: make this dynamic
		            },
		            title: {
		                text: options.name
		            },
		            tooltip: {
		        	    pointFormat: '{series.name}: <b>{point.y}</b>'
		            },
		           
		            plotOptions: {
		                column: {
		                    allowPointSelect: true,
		                    cursor: 'pointer',
		                    dataLabels: {
		                        enabled: false
		                    },
		                    showInLegend: false,
		                    color: {
							    linearGradient: { x1: 0, x2: 0, y1: 1, y2: 0 },
							    stops: [
							        [0, '#8D00FF'],
							        [1, '#00E59D']
							    ]		                    	
		                    }
		                }
		            },
		            
		            //http://jsfiddle.net/UPmsm/
		            xAxis: {
			            tickInterval: 1,
			            labels: {
			                enabled: true,
			                
			                /*
			                formatter: function() { 
			                	console.log(this);
			                	return options[this.value].name;
			                },
			                */
			            }	
		            },
		            
		            yAxis: {
		            	plotLines: [{
		            		value: goalSteps,
		            		color: '#22DA9B',
		            		width: 2,
		            		zIndex: 4,
		            		//label: { text: "goal" }
		            	}],
		            	title: {
		            		text: null
		            	}	
		            },
		            
		            series: [options]
		        });
			}
		</script>
	</head>

	<body>
		<div id="container"></div>
	</body>
</html> 
